/*
theme/theme.index.css
Theme stylesheet for Craft Starter
The theme version of the site, with custom design tokes and variables for the client project. Colours, fonts, spacing, etc.

Organisation:

- Tokens
- Variables
- Utilities
- Base styles
- Typography
- Buttons
- Header
- Navigation
- Search
- Footer

- Hero
- Components (Content Blocks, Testimonials, Blog, Contact)
*/

/* ============================================
   TOKENS
   ============================================ */
@import './theme.tokens.css';
@import './theme.variables.css';


/* ============================================
   UTILITIES
   ============================================ */

@layer utilities {
  .call-to-action {
    .action-buttons {
      .btn {
        font-size: 1.5em;
        .btn-icon {
          @apply w-8 h-8;
        }
      }
    }
  }
}


/* ============================================
   BASE STYLES
   ============================================ */

.body {
  /* font-size: 20px; */
}

.company-logo {
  @apply w-42;
  @apply md:w-48;
  @apply lg:w-64;
}
/* Header shrunk state - smaller logo at all breakpoints */
.header-shrunk {
  .company-logo {
    @apply md:w-28 lg:w-32 xl:w-40 2xl:w-48;
  }
  .desktop-header-inner {
    @apply md:p-[var(--padding-block-md)];
    @apply lg:py-4;
    @apply xl:py-5;
  }
}

.trust-links-logo {
  @apply mix-blend-darken;
}


/* ============================================
   TYPOGRAPHY
   ============================================ */

.content-block {
  .rich-text-field {
    a {
      @apply font-semibold;
      @apply no-underline;
      @apply hover:no-underline;
      @apply border-b-2 border-gold;
      @apply hover:border-dark-navy;
    }
  }
}


/* ============================================
   BUTTONS
   ============================================ */

.btn {
  @apply font-sans;
  @apply uppercase;
}

.btn-telephone,
.btn-contact {
  @apply flex;
  @apply gap-2;
  @apply items-center;
  @apply p-2;
  @apply text-sm font-normal capitalize;
  @apply bg-transparent;
  .btn-icon {
    @apply md:block;
    @apply w-6 h-6;
    @apply md:w-4 md:h-4;
    @apply md:text-gold;
  }
}


/* ============================================
   HEADER
   ============================================ */

.desktop-header-inner {
  @apply py-8;
}

.mobile-header-inner {
  @apply py-2 pr-4;
  transition: box-shadow 0.3s ease-in-out;
}

.mobile-nav-open {
  .mobile-header-inner {
    box-shadow: 0 0 25px rgba(0,0,0,0.125);
  }
}

.mobile-header-actions {
  @apply gap-0;
}

.secondary-header-inner {
  @apply px-4 py-1;
}


/* ============================================
   NAVIGATION
   ============================================ */

.nav--megamenu {
  .megamenu-column {
    @apply border-0;
  }
  .nav-menu-level-2 {
    @apply mt-2;
    @apply p-4 xl:p-8 xl:px-16 2xl:p-10 2xl:px-20;
    @apply rounded-lg;
    @apply overflow-hidden;
    @apply shadow-lg;
    .nav-link {
      @apply rounded;
    }

    .nav-link-level-2 {
      @apply xl:p-2 xl:py-[0.685rem];
      @apply xl:text-xl;
    }
    .nav-item-view-page {
      @apply border-0;
    }
  }
  .nav-link-level-2,
  .nav-link-level-3 {
    @apply !pr-4;
    @apply lg:!pr-6;
    @apply xl:!pr-8;
  }
}

.nav-item-link {
  @apply text-dark-navy;
  .subnav-indicator {
    @apply hidden;
  }
}

.mobile-nav {
  z-index: -1;
}

.mobile-nav-main {
  @apply py-4;
}

.mobile-nav-level-1 {
  > .mobile-nav-item {
    > .mobile-nav-item-header {
      &.active {
        .mobile-nav-link-text {
          @apply border-b border-gold;
        }
      }
    }
  }
}


/* ============================================
   SEARCH
   ============================================ */

.search-form--page {
  @apply w-32;
  @apply pr-2;
}

.search-input {
  @apply text-sm;
  @apply font-normal;
  @apply capitalize;
  @apply text-white;
  @apply bg-transparent;
  @apply border-none;
  @apply placeholder:text-sm;
  @apply placeholder:text-white;
}

.search-input-wrapper {
  /* @apply flex-row-reverse; */
}

.search-button {
  @apply p-1;
  @apply text-white;
}

.search-button:hover {
  @apply bg-white;
  @apply text-dark-navy;
}


/* ============================================
   FOOTER
   ============================================ */

.footer {
  a {
    @apply hover:underline;
  }
}

.footer-logo {
  @apply w-42;
  @apply md:w-48;
  @apply lg:w-64;
}

.footer-primary,
.footer-bottom-content,
.footer-copyright {
  @apply items-start;
  @apply text-left;
}

.footer-copyright {
  @apply md:flex-col;
}

.footer-tagline {
  @apply max-md:mb-8;
  @apply md:max-w-64;
}

.nav--legal {
  @apply max-md:flex-col max-md:items-start max-md:gap-0;
}

.nav-footer-heading {
  @apply mb-4 font-display font-semibold text-xl text-gold;
}

.nav-footer-link {
  @apply -my-2;
}

.footer-credit-logo {
  margin-top: -0.075rem;
  opacity: 0.75;
}

/* ============================================
   HERO
   ============================================ */

/* Unset the default hero styles */
.hero-inner,
.hero-text-wrapper,
.hero-text {
  @apply !m-0;
}

.hero-inner {
  @apply relative;
  @apply overflow-hidden;
  &::after {
    @media (min-width: 768px) {
      content: '';
    }
    @apply absolute top-0 md:bottom-0 left-0;
    @apply w-full h-2/3 md:w-1/2 md:h-full;
    
    @apply md:bg-(image:--hpa-hero-page-shape-background);
    @apply md:bg-cover md:bg-no-repeat md:bg-right-bottom;
  }
}

.hero-text-wrapper {
  @apply md:relative xl:absolute top-0 bottom-0 z-10;
  @apply justify-center;
  @apply max-w-[var(--container-wide)];
  @apply h-fit md:min-h-[325px] md:h-full;
  @apply mx-auto;
  
  @apply pt-6;
  @apply pb-14;
  @apply 2xs:pt-[12vw];
  @apply 2xs:pb-[22vw];
  @apply md:pt-[6vw];
  @apply md:pb-[11vw];
  @apply 2xl:pt-8;
  @apply 2xl:pb-16;
  /* @apply md:pt-4; */
  /* @apply md:pb-20; */

  @apply bg-(image:--hpa-hero-page-shape-background);
  @apply bg-cover bg-no-repeat bg-right-bottom;
  @apply md:bg-none;
}

.hero-text {
  @apply md:w-[40%] 2xl:w-[38%];
  @apply p-6 pl-0 pr-16 xs:pr-20 xs:pt-8 xs:pb-8 sm:pt-12 sm:pb-16;
  @apply xs:pr-32 sm:pr-32;
  @apply md:pr-6;
  .action-buttons {
    @apply mt-4;
  }
}

.hero-text-inner {
  .heading {
    @apply pl-4 md:pl-6;
    @apply text-gold;
    @apply border-l-2 border-light-grey;
  }
  .heading-scale {
    font-size: clamp(2rem, 10vw, 3.5rem);
    font-size: clamp(1rem, 8.75cqi, 4.75rem);
    text-wrap: balance;
    @media (min-width: 420px) {
      font-size: clamp(1rem, 9cqi, 4.75rem);
    }
    @media (min-width: 768px) {
      font-size: clamp(1rem, 4cqi, 4.1rem);
    }
  }
  .rich-text-field {
    @apply pt-6;
    @media (min-width: 420px) {
      padding-right: 1rem;
    }
    @apply text-white;
    font-size: clamp(1rem, 3.25cqi, 3.5rem);
    @media (min-width: 768px) {
      font-size: clamp(1rem, 1.5cqi, 1.35rem);
      /* text-wrap: balance; */
    }
  }
}

.hero-image {
  @apply md:absolute xl:static;
}

.hero--home {
  @apply max-md:h-[calc(100dvh-var(--header-height))];
  .hero-carousel {
    @apply h-full;
  }
  .hero-inner {
    &::after {
      @apply bg-(image:--hpa-hero-home-shape-background);
    }
  }
  .hero-text-wrapper {
    /* @apply sm:pb-32; */
  }
  .hero-text {
    @apply py-0;
  }
}

/* ============================================
   COMPONENTS
   ============================================ */

/* Content Blocks */
/* ------------------------------------------------ */

/* USPs */
/* ------------------------------------------------ */

.usps {
  .content-block-inner {
    @apply xl:px-24;
  }
  .rich-text-field {
    @apply max-w-prose;
    @apply mx-auto;
    @apply text-center;
  }
  .usp-row {
    @apply flex flex-col;
    @apply gap-2;
    @media (min-width: 360px) {
      @apply grid grid-cols-2 md:grid-cols-4;
    }
  }
  .usp-item {
    @apply flex-row gap-2;
    @media (min-width: 500px) {
      @apply gap-4;
    }
    @apply p-3 py-2 md:p-2 lg:p-4;
    @apply bg-white;
    @apply border border-dark-grey;
    @apply rounded;
  }
  .usp-icon {
    @apply min-w-8;
    @apply xs:min-w-10;
  }
  .usp-text {
    @apply font-display;
    @apply font-bold;
    @apply text-sm lg:text-base;
  }
}

/* Call to Action */
/* ------------------------------------------------ */

.call-to-action {
  &:has(.background-image) {
    .container-inner {
      @apply p-0;
      @apply md:p-6 md:py-0;
      @apply relative;
      .content-box {
        @apply w-full;
      }
    }
    .background-image {
      @apply -mt-[34%] xs:-mt-[30%] md:mt-0;
      @apply md:absolute md:top-0 md:left-0;
      @apply md:w-full md:h-full md:object-cover;
    }
  }
  .content-box {
    @apply max-md:flex max-md:justify-start;
  }
  .content-box-inner {
    @apply md:col-start-2;
    @apply flex justify-end;
    @apply mb-8 pb-12;
    @apply p-6;
    @apply md:p-0;
    @apply bg-(image:--hpa-call-to-action-background-mobile);
    @apply bg-no-repeat;
    @apply bg-cover bg-bottom;
    @apply md:bg-(image:--hpa-call-to-action-background);
    @apply md:bg-cover;
    @apply lg:bg-bottom lg:bg-cover;
  }
  .cta-content {
    @apply md:w-[calc(100%-10%)];
    @apply p-6 px-0;

    @apply pt-4 pb-12 md:pr-24 md:pb-16 md:pl-4;
    font-size: clamp(1rem,5vw,4rem);
    font-size: clamp(1rem, 3.25cqi, 3.5rem);
    @media (min-width: 768px) {
      font-size: clamp(1rem, 1.5cqi, 1.35rem);
    }
    @media (min-width: 1024px) {
      font-size: 1rem;
    }

    .rich-text-field {
      @apply prose-headings:text-gold;
      @apply prose-headings:text-3xl;
      @apply prose-headings:pl-4;
      @apply prose-headings:border-l;
      @apply prose-headings:border-light-grey;
      @apply text-white;
      font-size: inherit;
      h2, h3, h4, h5, h6 {
        margin-bottom: 0.5em;
        font-size: 2em;
      }
      p {
        font-size: 1em;
      }
    }
  }
}


/* Text and Image */
/* ------------------------------------------------ */

.text-and-image {
  @apply overflow-hidden;
  .content-block-inner {
    @apply relative z-10;
    @apply md:py-6;
    @apply xl:py-[calc(10vw*0.25)];
    @apply 2xl:py-10;

    .content-wrapper {
      @apply relative;
      @apply md:py-16 xl:py-[calc(10vw*0.5)];
      @apply 2xl:py-[calc(10vw*0.45)];
      @apply 3xl:py-18;
      &::after {
        content: '';
        @apply absolute top-0 z-[-1];
        @apply w-full h-full;
        @apply max-h-[40rem];
        @apply bg-contain bg-no-repeat;
      }
    }
  }
  &.column-layout-text-left {
    .content-block-inner {
      .content-wrapper {
        &::after {
          @apply -right-40;
          @apply md:bg-text-image-right-dots-desktop;
          @apply bg-top-right;
        }
      }
    }
  }
  &.column-layout-image-left {
    .content-block-inner {
      .content-wrapper {
        &::after {
          @apply -left-40;
          @apply md:bg-text-image-left-dots-desktop;
          @apply bg-top-left;
        }
      }
    }
  }

  + .text-and-image {
    .content-block-inner,
    .content-block-inner .content-wrapper {
      /* @apply !pt-0; */
    }
  }

  .image-wrapper {
    @apply p-6 pt-8 pb-12 md:p-0;
    @apply max-md:bg-text-image-left-dots-mobile;
    @apply bg-contain bg-no-repeat bg-left;
  }
  
  &:nth-child(2) {
    .rich-text-field {
      p strong {
        @apply font-display;
        @apply md:text-base lg:text-lg;
        @apply font-bold;
      }
    }
  }
}

/* Entry Cards */
/* ------------------------------------------------ */

.entry-cards {
  .content-block-inner {
    @apply relative z-10;
    .rich-text-field {
      @apply md:w-1/2;
    }
    &::after {
      content: '';
      @apply absolute top-0 -right-8 z-[-1];
      @apply w-full h-full;
      @apply bg-entry-cards-bg-shape-top-desktop;
      @apply bg-no-repeat bg-top-right;
      @apply bg-contain md:bg-auto;
    }
  }

  .entry-card-carousel {
    @apply flex flex-row snap-x snap-mandatory overflow-x-auto gap-0;
    @apply md:grid md:grid-cols-3 lg:gap-8 max-md:pr-6;
    @apply -ml-6 -mr-6 md:mr-0;
    > * {
      @apply basis-[92.5%] snap-start flex-shrink-0;
      @apply pl-6;
    }
  }
  
  .text-content {
    @apply flex flex-col; /* Override flex-1 from skeleton */
  }
}

.entry-card {
  .entry-card-content {
    @apply absolute inset-0;
    @apply w-full h-full;
    @apply space-y-2;
    @apply justify-center items-center;
    @apply p-4;
    @apply text-center;
    @apply bg-dark-grey/50;
  }
  
  .text-content {
    @apply flex-0; /* Override flex-1 from wireframe style */
    @apply mb-0; /* Override mb-4 from wireframe style */
  }
  
  .entry-card-heading {
    font-family: var(--mds-entry-card-heading-font-family);
    @apply text-lg md:text-base lg:text-xl;
    @apply leading-tight;
    @apply font-[var(--mds-entry-card-heading-font-weight)];
    @apply text-[var(--mds-entry-card-heading-color)];
    @apply mb-0; /* Override mb-2 from wireframe style */
  }
  
  .entry-card-icon {
    @apply w-16 h-16;
    @apply md:w-12 md:h-12;
    @apply lg:w-16 lg:h-16;
    svg {
      @apply w-full h-full;
    }
  }
}

/* Tabbed Navigator */
/* ------------------------------------------------ */

.tabbed-navigator {
  .entry-card-heading {
    @apply mb-0; /* Override mb-2 from wireframe style */
    @apply text-xl font-bold;
  }
}

/* Testimonials */
/* ------------------------------------------------ */

.testimonials {
  .rich-text-field {
    @apply text-center;
  }
  .testimonial-footer {
    @apply hidden;
  }

  .lq-slider-item {
    @apply lg:p-8;
    @apply bg-testimonials-item-bg-dots-shape;
    @apply bg-auto bg-no-repeat bg-center;
    .testimonial-card {
      @apply h-fit;
    }
  }
}

/* Contact Form */
/* ------------------------------------------------ */

.contact-form {
  .image-wrapper {
    @apply h-full;
  }
  .contact-form-image {
    @apply w-full h-full object-cover;
  }
  .form-wrapper {
    @apply h-full p-6;
    @apply rounded-[var(--mds-form-image-border-radius)];
    .fui-label {
      @apply sr-only;
    }
  }
}

/* Solicitor Profile */
/* ------------------------------------------------ */

.solicitor-profile {
  .solicitor-profile-wrapper {
    @apply flex flex-col md:flex-row gap-8 items-start;
  }
  .profile-image-wrapper {
    @apply flex-shrink-0; 
    .profile-image {
      @apply rounded-full w-48 h-48 md:w-64 md:h-64 object-cover;
    }
  }
  .profile-content {
    @apply flex-1;
  }
  .profile-header {
    @apply mb-6; 
    .solicitor-name {
      @apply font-display;
      @apply text-3xl font-bold text-dark-navy mb-2;
    }
    .solicitor-title {
      @apply text-lg text-dark-grey;
    }
  }
  .solicitor-bio {
    @apply mb-8; 
    p {
      @apply text-base leading-relaxed;
    }
  }
  .contact-info {
    @apply space-y-3; 
    .contact-item {
      @apply flex items-center gap-3;
      @apply font-display;
      @apply font-bold;
      .contact-icon-wrapper {
        @apply text-gold;
      }
      .contact-icon {
        @apply w-5 h-5 flex-shrink-0;
        fill: currentColor;
      }
      .contact-link {
        @apply text-dark-navy hover:text-gold transition-colors;
      }
    }
  }
}